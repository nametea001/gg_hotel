{% extends "layout/layout.twig" %}

{% block css %}
    {% webpack_entry_css 'layout/datatables' %}
{% endblock %}

{% block js %}
    {% webpack_entry_js 'layout/datatables' %}
    {% webpack_entry_js 'web/payment' %}
{% endblock %}

{% block content %}
  <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <h2><i class="fas fa-user"></i> User list</h2>
                <button type="button" id="addBt" class="btn btn-dark btn-sm" data-toggle="modal" data-target="#addUser"><i style="font-size:15px; width:20px;" class="fas fa-plus"></i> Add User</button>      
                <hr>
                <table id="my-data-table" class="table table-striped table-bordered dt-responsive nowrap dataTable no-footer dtr-inline collapsed">
                    <thead>
                    <tr>
                        <th>Username</th>
                        <th>Full name</th>
                        <th>Role</th>
                        <th>Operation</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for user in users %}                    
                    <tr>
                        <td>{{ user.username }}</td>
                        <td>{{ user.first_name ~ " " ~ user.last_name}}</td>
                        <td>{{ user.user_role_id==1?"Admin":user.user_role_id==2?"User":user.user_role_id==3?"Store":user.user_role_id==4?"Manager":user.user_role_id==5?"Store Manager":"Super Admin" }}</td>
                        <td>
                              <button type="button" id="editBt" class="btn btn-warning btn-sm" data-toggle="modal" data-target="#editUser" name="{{ user|json_encode }}"><i style="font-size:15px; width:20px;" class="fas fa-edit"></i></button>
                              <button type="button" id="deleteBt" class="btn btn-danger btn-sm" data-toggle="modal" data-target="#deleteUser" name="{{ user|json_encode }}"><i style="font-size:15px; width:20px;" class="fas fa-trash-alt"></i></button>

                        </td>
                    </tr>
                    {% endfor %}
                    </tbody>
                    <tfoot></tfoot>
                </table>
                <p></p>
            </div>
        </div>
    </div>


{% endblock %}